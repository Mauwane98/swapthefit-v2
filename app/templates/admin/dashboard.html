{% extends "_layouts/base.html" %}

{% block title %}Admin Dashboard{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8 md:py-12">
    <h1 class="text-4xl font-extrabold text-gray-900 text-center mb-8 md:mb-12">Admin Dashboard</h1>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12">
        <!-- Card 1: Total Users -->
        <div class="bg-white p-6 rounded-lg shadow-xl border border-gray-200 text-center transform transition-transform duration-300 hover:scale-105">
            <div class="text-5xl text-[var(--color-accent)] mb-4">
                <i class="fas fa-users"></i>
            </div>
            <h2 class="text-xl font-bold text-gray-900 mb-2">Total Users</h2>
            <p class="text-4xl font-extrabold text-gray-800">{{ user_count }}</p>
            <a href="{{ url_for('admin.manage_users') }}" class="mt-4 inline-block text-sm font-medium text-blue-600 hover:underline">Manage Users &rarr;</a>
        </div>

        <!-- Card 2: Total Listings -->
        <div class="bg-white p-6 rounded-lg shadow-xl border border-gray-200 text-center transform transition-transform duration-300 hover:scale-105">
            <div class="text-5xl text-purple-500 mb-4">
                <i class="fas fa-tshirt"></i>
            </div>
            <h2 class="text-xl font-bold text-gray-900 mb-2">Total Listings</h2>
            <p class="text-4xl font-extrabold text-gray-800">{{ listing_count }}</p>
            <a href="{{ url_for('admin.manage_listings') }}" class="mt-4 inline-block text-sm font-medium text-blue-600 hover:underline">Manage Listings &rarr;</a>
        </div>

        <!-- Card 3: Pending Swap Requests -->
        <div class="bg-white p-6 rounded-lg shadow-xl border border-gray-200 text-center transform transition-transform duration-300 hover:scale-105">
            <div class="text-5xl text-orange-500 mb-4">
                <i class="fas fa-exchange-alt"></i>
            </div>
            <h2 class="text-xl font-bold text-gray-900 mb-2">Pending Swaps</h2>
            <p class="text-4xl font-extrabold text-gray-800">{{ pending_swaps_count }}</p>
            <a href="{{ url_for('admin.view_swap_requests') }}" class="mt-4 inline-block text-sm font-medium text-blue-600 hover:underline">View Swap Requests &rarr;</a>
        </div>

        <!-- Card 4: Unread Notifications (Overall) -->
        <div class="bg-white p-6 rounded-lg shadow-xl border border-gray-200 text-center transform transition-transform duration-300 hover:scale-105">
            <div class="text-5xl text-red-500 mb-4">
                <i class="fas fa-bell"></i>
            </div>
            <h2 class="text-xl font-bold text-gray-900 mb-2">Unread Notifications</h2>
            <p class="text-4xl font-extrabold text-gray-800">{{ unread_notifications_count }}</p>
            <a href="{{ url_for('admin.view_notifications') }}" class="mt-4 inline-block text-sm font-medium text-blue-600 hover:underline">View All Notifications &rarr;</a>
        </div>

        <!-- Card 5: Total Reviews -->
        <div class="bg-white p-6 rounded-lg shadow-xl border border-gray-200 text-center transform transition-transform duration-300 hover:scale-105">
            <div class="text-5xl text-yellow-500 mb-4">
                <i class="fas fa-star"></i>
            </div>
            <h2 class="text-xl font-bold text-gray-900 mb-2">Total Reviews</h2>
            <p class="text-4xl font-extrabold text-gray-800">{{ reviews_count }}</p> {# Assuming reviews_count is passed from route #}
            <a href="{{ url_for('admin.view_reviews') }}" class="mt-4 inline-block text-sm font-medium text-blue-600 hover:underline">View Reviews &rarr;</a>
        </div>

        <!-- Card 6: Quick Access to Other Admin Sections -->
        <div class="bg-white p-6 rounded-lg shadow-xl border border-gray-200 text-center transform transition-transform duration-300 hover:scale-105">
            <div class="text-5xl text-gray-600 mb-4">
                <i class="fas fa-cogs"></i>
            </div>
            <h2 class="text-xl font-bold text-gray-900 mb-2">Admin Tools</h2>
            <ul class="space-y-2 mt-4">
                <li><a href="{{ url_for('admin.manage_users') }}" class="text-blue-600 hover:underline text-sm">Manage Users</a></li>
                <li><a href="{{ url_for('admin.manage_listings') }}" class="text-blue-600 hover:underline text-sm">Manage Listings</a></li>
                <li><a href="{{ url_for('admin.view_swap_requests') }}" class="text-blue-600 hover:underline text-sm">View Swap Requests</a></li>
                <li><a href="{{ url_for('admin.view_reviews') }}" class="text-blue-600 hover:underline text-sm">View Reviews</a></li>
                <li><a href="{{ url_for('admin.view_notifications') }}" class="text-blue-600 hover:underline text-sm">View Notifications</a></li>
            </ul>
        </div>
    </div>

    <!-- Recent Activity / Logs (Optional, for future expansion) -->
    <div class="bg-white p-6 rounded-lg shadow-xl border border-gray-200">
        <h2 class="text-2xl font-bold text-gray-900 mb-4">Recent Activity</h2>
        <p class="text-gray-600">This section can display recent user registrations, new listings, completed swaps, etc. (Future Feature)</p>
        <div class="mt-4 text-gray-500 text-sm">
            <p>Example: User 'JohnDoe' registered on 2023-10-26.</p>
            <p>Example: Listing 'Blue School Shirt' created by 'JaneS'.</p>
        </div>
    </div>
</div>
{% endblock %}
